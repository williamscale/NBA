# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 15) +
scale_fill_continuous(lim = c(10, 400),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Most Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
fg.all.density <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y)) +
stat_density_2d(aes(fill = ..level..),
geom = 'polygon')
court.plotter.lines(fg.plot = fg.all.density) +
ggtitle('Keldon Johnson 2021-22 Games 1-26\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
?scale_fill_continuous
# Author: Cale Williams
# Last Updated: 02/18/2022
# ADMINISTRATIVE WORK -----------------------------------------------------
# Clear workspace and set seed.
rm(list = ls())
set.seed(55)
setwd('C:/Users/caler/Documents/MyProjects/NBA/R/Shotcharts')
# Import libraries.
library(dplyr)
library(ggplot2)
library(ggthemes)
# Import function.
source('../Functions/drawNBAcourt.R')
# DATA PREPARATION --------------------------------------------------------
# Read in data.
shots.1 <- read.csv('Dejounte-Murray.2021-22.csv',
header = TRUE)
shots.1$player <- rep('Dejounte.Murray',
times = nrow(shots.1))
shots.2 <- read.csv('Derrick-White.2021-22.csv',
header = TRUE)
shots.2$player <- rep('Derrick.White',
times = nrow(shots.5))
shots.3 <- read.csv('Keldon-Johnson.2021-22.csv',
header = TRUE)
shots.3$player <- rep('Keldon.Johnson',
times = nrow(shots.3))
shots.4 <- read.csv('Doug-McDermott.2021-22.csv',
header = TRUE)
shots.4$player <- rep('Doug.McDermott',
times = nrow(shots.4))
shots.5 <- read.csv('Jakob-Poeltl.2021-22.csv',
header = TRUE)
shots.5$player <- rep('Jakob.Poeltl',
times = nrow(shots.5))
shots.6 <- read.csv('Devin-Vassell.2021-22.csv',
header = TRUE)
shots.6$player <- rep('Devin.Vassell',
times = nrow(shots.2))
# Author: Cale Williams
# Last Updated: 02/18/2022
# ADMINISTRATIVE WORK -----------------------------------------------------
# Clear workspace and set seed.
rm(list = ls())
set.seed(55)
setwd('C:/Users/caler/Documents/MyProjects/NBA/R/Shotcharts')
# Import libraries.
library(dplyr)
library(ggplot2)
library(ggthemes)
# Import function.
source('../Functions/drawNBAcourt.R')
# DATA PREPARATION --------------------------------------------------------
# Read in data.
shots.1 <- read.csv('Dejounte-Murray.2021-22.csv',
header = TRUE)
shots.1$player <- rep('Dejounte.Murray',
times = nrow(shots.1))
shots.2 <- read.csv('Derrick-White.2021-22.csv',
header = TRUE)
shots.2$player <- rep('Derrick.White',
times = nrow(shots.2))
shots.3 <- read.csv('Keldon-Johnson.2021-22.csv',
header = TRUE)
shots.3$player <- rep('Keldon.Johnson',
times = nrow(shots.3))
shots.4 <- read.csv('Doug-McDermott.2021-22.csv',
header = TRUE)
shots.4$player <- rep('Doug.McDermott',
times = nrow(shots.4))
shots.5 <- read.csv('Jakob-Poeltl.2021-22.csv',
header = TRUE)
shots.5$player <- rep('Jakob.Poeltl',
times = nrow(shots.5))
shots.6 <- read.csv('Devin-Vassell.2021-22.csv',
header = TRUE)
shots.6$player <- rep('Devin.Vassell',
times = nrow(shots.6))
View(shots.2)
shots.2 <- shots.2[shots.2$TEAM_NAME == 'San Antonio Spurs', ]
View(shots.2)
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.2,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 15) +
scale_fill_continuous(lim = c(10, 100),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Most Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Transform shot locations.
shots.t <- shotchart.transformer(data = shots.2,
col.x = 'LOC_X',
col.y = 'LOC_Y')
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.2,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 15) +
scale_fill_continuous(lim = c(10, 100),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Most Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 15) +
scale_fill_continuous(lim = c(10, 100),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Most Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Transform shot locations.
shots.t <- shotchart.transformer(data = shots.6,
col.x = 'LOC_X',
col.y = 'LOC_Y')
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 15) +
scale_fill_continuous(lim = c(10, 100),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Most Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 15) +
scale_fill_continuous(lim = c(10, 200),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Most Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 15) +
scale_fill_continuous(lim = c(10, 75),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Most Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Clear workspace and set seed.
rm(list = ls())
set.seed(55)
setwd('C:/Users/caler/Documents/MyProjects/NBA/R/Shotcharts')
# Import libraries.
library(dplyr)
library(ggplot2)
library(ggthemes)
# Import function.
source('../Functions/drawNBAcourt.R')
# Read in data.
shots <- read.csv('Jakob-Poeltl.2021-22.csv',
header = TRUE)
# Transform shot locations.
shots.t <- shotchart.transformer(data = shots,
col.x = 'LOC_X',
col.y = 'LOC_Y')
fg.m <- shots.t %>%
filter(SHOT_MADE_FLAG == 1)
fg.a <- shots.t %>%
filter(SHOT_MADE_FLAG == 0)
title.template <- 'Jakob Poeltl 2021-22'
fg.all.shotchart <- ggplot(data = fg.m,
aes(x = LOC_X,
y = LOC_Y)) +
geom_point(data = fg.a,
color = '#EF426F',
shape = 4,
size = 1.5)
court.plotter(fg.plot = fg.all.shotchart,
point.color = '#00B2A9',
point.size = 1.5) +
ggtitle('Keldon Johnson 2021-22, FG') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
court.plotter(fg.plot = fg.all.shotchart,
point.color = '#00B2A9',
point.size = 1.5) +
ggtitle('Jakob Poeltl 2021-22, FG') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 20) +
scale_fill_continuous(lim = c(5, 50),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Keldon Johnson 2021-22 Games 1-26\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 20) +
scale_fill_continuous(lim = c(5, 100),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Keldon Johnson 2021-22 Games 1-26\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 20) +
scale_fill_continuous(lim = c(5, 200),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Keldon Johnson 2021-22 Games 1-26\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
fg.all.density <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y)) +
stat_density_2d(aes(fill = ..level..),
geom = 'polygon')
court.plotter.lines(fg.plot = fg.all.density) +
ggtitle('Keldon Johnson 2021-22 Games 1-26\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 20) +
scale_fill_continuous(lim = c(5, 200),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Jakob Poeltl 2021-22\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 40) +
scale_fill_continuous(lim = c(5, 200),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Jakob Poeltl 2021-22\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 40) +
scale_fill_continuous(lim = c(5, 500),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Jakob Poeltl 2021-22\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 20) +
scale_fill_continuous(lim = c(5, 500),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Jakob Poeltl 2021-22\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 20) +
scale_fill_continuous(lim = c(5, 150),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Jakob Poeltl 2021-22\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
# Create hexbin plot of attempted field goals.
# Remove bins with 5 <= count <= 50.
fg.all.heatmap <- ggplot(shots.t,
aes(x = LOC_X,
y = LOC_Y),
fill = ..count..) +
geom_hex(bins = 20) +
scale_fill_continuous(lim = c(5, 180),
na.value = NA,
type = 'viridis')
court.plotter.lines(fg.plot = fg.all.heatmap) +
ggtitle('Jakob Poeltl 2021-22\nMost Common FGA Locations') +
theme_solarized_2() +
theme(axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks.x = element_blank(),
axis.ticks.y = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
